# 🚗 Триггеры для установки класса автомобиля

## 🔍 **Основной триггер**

Бот ищет в сообщении паттерн: **`🚗 [название класса]`**

```python
match = re.search(r'🚗\s*(.+)', message)
```

### Как это работает:
- `🚗` - эмодзи автомобиля (обязательно!)
- `\s*` - любые пробелы после эмодзи (необязательно)
- `(.+)` - любой текст до конца строки

## ✅ **Примеры рабочих триггеров:**

```
🚗 Стандарт                   → ID: 119
🚗 Комфорт                    → ID: 93
🚗 Комфорт +                  → ID: 95
🚗 Микроавтобус               → ID: 97
🚗 Минивэн                    → ID: 99
🚗 Минивэн vip                → ID: 101
🚗 Автобус                    → ID: 103
🚗 Бизнес                     → ID: 105
🚗 Представительский          → ID: 107
🚗 Кроссовер                  → ID: 109
🚗 Джип                       → ID: 111
🚗 Внедорожник                → ID: 113
🚗 УСЛУГА ТРЕЗВЫЙ ВОДИТЕЛЬ    → ID: 115
🚗 Доставка                   → ID: 117
```

## 🔄 **Обработка входных данных:**

### 1. **Регистр не важен:**
```
🚗 КОМФОРТ      → работает
🚗 комфорт      → работает  
🚗 Комфорт      → работает
🚗 КоМфОрТ      → работает
```

### 2. **Пробелы обрезаются:**
```
🚗    Комфорт     → работает
🚗Комфорт          → работает
🚗 Комфорт         → работает
```

### 3. **Варианты написания:**
```
🚗 Комфорт!        → ID: 93 (работает)
🚗 Комфорт         → ID: 93 (работает)
🚗 Комфорт+        → ID: 95 (работает)
🚗 Комфорт +       → ID: 95 (работает)
🚗 Джип!           → ID: 111 (работает)
🚗 Джип            → ID: 111 (работает)
```

## ❌ **Что НЕ работает:**

### 1. **Без эмодзи автомобиля:**
```
Класс: Комфорт     → НЕ работает
Авто: Комфорт      → НЕ работает
Комфорт            → НЕ работает
```

### 2. **Неизвестные классы:**
```
🚗 Эконом          → None (не найден в маппинге)
🚗 Какой-то класс  → None (не найден в маппинге)
```

### 3. **Другие эмодзи:**
```
🚙 Комфорт         → НЕ работает
🚕 Комфорт         → НЕ работает
🚐 Комфорт         → НЕ работает
```

## 📋 **Полный список поддерживаемых входных значений:**

| Что писать в боте | Результат ID | Описание |
|-------------------|--------------|----------|
| `🚗 Стандарт` | 119 | Стандарт - базовый класс автомобилей |
| `🚗 Комфорт` | 93 | Комфорт! Jolion, X-Cite, оптима и выше |
| `🚗 Комфорт!` | 93 | (то же самое) |
| `🚗 Комфорт +` | 95 | Комфорт +! Класс D, Camry, optima, k5 и подобные от 2018гв |
| `🚗 Комфорт+` | 95 | (то же самое) |
| `🚗 Микроавтобус` | 97 | Микроавтобус! Mercedes sprinter, pegout boxer и подобные |
| `🚗 Минивэн` | 99 | Минивэн! Hyundai Starex и подобные до 8ми мест |
| `🚗 Минивен` | 99 | (то же самое) |
| `🚗 Минивэн vip` | 101 | Минивэн VIP! Mercedes V-class, hyundai staria и подобные |
| `🚗 Минивен vip` | 101 | (то же самое) |
| `🚗 Автобус` | 103 | Автобус! Ютонг и подобные до 55 мест |
| `🚗 Бизнес` | 105 | Бизнес! BMW 5, MERCEDES E-CLASS И ПОДОБНЫЕ ОТ 2018 ГВ |
| `🚗 Представительский` | 107 | Представительский! Mercedes s-class, Mercedes Maybach, BMW 7 и подобные |
| `🚗 Кроссовер` | 109 | Кроссовер! Jolion, Geely Atlas Pro, и подобные |
| `🚗 Кроссовер!` | 109 | (то же самое) |
| `🚗 Джип` | 111 | Джип! Land Cruser, BMW x 5 и подобные |
| `🚗 Джип!` | 111 | (то же самое) |
| `🚗 Внедорожник` | 113 | Внедорожник! Уаз патриот и подобные |
| `🚗 Внедорожник!` | 113 | (то же самое) |
| `🚗 УСЛУГА ТРЕЗВЫЙ ВОДИТЕЛЬ` | 115 | Услуга ТРЕЗВЫЙ ВОДИТЕЛЬ |
| `🚗 Трезвый водитель` | 115 | (то же самое) |
| `🚗 Доставка` | 117 | Доставка |

## 🔧 **Как добавить новый класс:**

Если нужно добавить новый класс, нужно:

1. **Добавить в Bitrix24** новое значение в список поля `UF_CRM_1751271728682`
2. **Узнать ID** нового значения 
3. **Добавить в код** в словарь `CAR_CLASS_MAPPING`:

```python
CAR_CLASS_MAPPING = {
    # ... существующие ...
    'стандарт': 119,  # Стандарт - базовый класс автомобилей
}
```

## 🎯 **Важно помнить:**

- **Обязателен эмодзи** 🚗
- **Регистр не важен**
- **Лишние пробелы игнорируются**
- **Неизвестные классы** → `None`
- **Поддерживается 14 официальных классов**
